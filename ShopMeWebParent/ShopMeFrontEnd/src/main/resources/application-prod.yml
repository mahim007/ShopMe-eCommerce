server:
    port: 8081
    servlet:
        context-path: /shopme  # Keep the same as local!
    forward-headers-strategy: framework

spring:
    datasource:
        url: jdbc:mysql://mysql-db:3306/shopmedb?useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=UTC
        username: ${DB_USER}
        password: ${DB_PASSWORD}

    jpa:
        hibernate:
            ddl-auto: update
        show-sql: false
    mvc:
        pathmatch:
            matching-strategy: ant-path-matcher

    # OAuth2 - Use environment variables for production
    security:
        oauth2:
            client:
                registration:
                    google:
                        client-id: ${GOOGLE_CLIENT_ID}
                        client-secret: ${GOOGLE_CLIENT_SECRET}
                        scope:
                            - email
                            - profile
                    facebook:
                        client-id: ${FACEBOOK_CLIENT_ID}
                        client-secret: ${FACEBOOK_CLIENT_SECRET}
                        scope:
                            - email
                            - public_profile

# PayPal for production
paypal:
    mode: ${PAYPAL_MODE:-sandbox}
    client-id: ${PAYPAL_CLIENT_ID}
    client-secret: ${PAYPAL_CLIENT_SECRET}

# AWS S3 configuration
aws:
    s3:
        region: ${AWS_REGION}
        bucket: ${AWS_S3_BUCKET_NAME}
        access_key: ${AWS_ACCESS_KEY_ID}
        secret_key: ${AWS_SECRET_ACCESS_KEY}

logging:
    level:
        root: INFO
        com.mahim.shopme: INFO
    file:
        name: /app/logs/frontend.log