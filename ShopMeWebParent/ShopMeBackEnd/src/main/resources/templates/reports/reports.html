<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/page_structure :: page_header('Sales Reports - Shopme admin')"></head>
<body>
<div class="container-fluid">
    <div th:replace="fragments/navigation :: page_nav"></div>
    <div class="text-center">
        <h2>Sales Reports</h2>
    </div>
    <div th:if="${message != null}" class="alert alert-success text-center">
        [[${message}]]
    </div>
    <div th:if="${exceptionMessage != null}" class="alert alert-danger text-center">
        [[${exceptionMessage}]]
    </div>
    <div class="container">
        <div class="border border-secondary rounded p-3">
            <div>
                <ul class="nav nav-tabs" id="reportTab" role="tablist">
                    <li class="nav-item" role="presentation">
                        <a class="nav-link active" data-bs-toggle="tab" data-bs-target="#date" href="#date" role="tab">Sales by Date</a>
                    </li>
                    <li class="nav-item" role="presentation">
                        <a class="nav-link" data-bs-toggle="tab" data-bs-target="#category" href="#category" role="tab">Sales by Category</a>
                    </li>
                    <li class="nav-item" role="presentation">
                        <a class="nav-link" data-bs-toggle="tab" data-bs-target="#product" href="#product" role="tab">Sales by Product</a>
                    </li>
                </ul>
                <div class="tab-content" id="reportTabContent">
                    <div class="tab-pane fade show active p-3" id="date" role="tabpanel" aria-labelledby="date-tab" tabindex="0">
                        <th:block th:replace="reports/reports_fragment :: content('_date')"></th:block>
                    </div>
                    <div class="tab-pane fade p-3" id="category" role="tabpanel" aria-labelledby="category-tab" tabindex="0">
                        <th:block th:replace="reports/reports_fragment :: content('_category')"></th:block>
                    </div>
                    <div class="tab-pane fade p-3" id="product" role="tabpanel" aria-labelledby="product-tab" tabindex="0">
                        <th:block th:replace="reports/reports_fragment :: content('_product')"></th:block>
                    </div>
                </div>
        </div>
    </div>
    <div th:replace="fragments/page_structure :: page_footer"></div>
</div>
</div>
<script type="text/javascript">
    const contextPath = "[[@{/}]]";
    const csrfHeaderName = "[[${_csrf.headerName}]]";
    const csrfHeaderValue = "[[${_csrf.token}]]";
    const currencySymbol = "[[${CURRENCY_SYMBOL}]]";
    const thousandPointType = "[[${THOUSANDS_POINT_TYPE == 'COMMA' ? ',' : '.'}]]";
    const decimalPointType = "[[${DECIMAL_POINT_TYPE == 'COMMA' ? ',' : '.'}]]";
    const currencySymbolPosition = "[[${CURRENCY_SYMBOL_POSITION}]]";
    const decimalDigits = "[[${DECIMAL_DIGITS}]]";

    const prefixCurrencySymbol = currencySymbolPosition === 'before' ? currencySymbol : '';
    const suffixCurrencySymbol = currencySymbolPosition === 'after' ?  currencySymbol : '';

    $(document).ready(function () {
        google.charts.load('current', {packages: ['corechart']});
        google.charts.setOnLoadCallback(loadSalesReportByDateForCategory);
        google.charts.setOnLoadCallback(loadSalesReportByDate);
    });

</script>
<script type="text/javascript" th:src="@{/js/common_form.js}"></script>
<script type="text/javascript" th:src="@{/library/jquery.number.min.js}"></script>
<script type="text/javascript" th:src="@{/js/reports/sales_report_common.js}"></script>
<script type="text/javascript" th:src="@{/js/reports/sales_report_by_date.js}"></script>
<script type="text/javascript" th:src="@{/js/reports/sales_report_by_category.js}"></script>
</body>
</html>